<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ECharts</title>
    <!-- 다운받은 echarts 파일 -->
    <!-- <script src="echarts.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>
</head>
<body>
<!-- 높이와 너비가 지정된 Dom 을 생성합니다 -->
<div id="main" style="width: 3dimensions 00px;height:200px;"></div>
<div id="main1" style="width: 500px;height:200px;"></div>
<div id="main2" style="width: 300px;height:200px;"></div>
    <script type="text/javascript">
        // DOM을 준비하고 echart 객체를 만듭니다.
        var myChart = echarts.init(document.getElementById('main'));
        // var myChart1 = echarts.init(document.getElementById('main1'));
        // var myChart2 = echarts.init(document.getElementById('main2'));

        // 차트 속성과 데이터를 지정합니다.
        var option1 = {
            title: {
                text: '첫번째 pie 테스트',
                subtext: '보조 타이틀',
                left: 'right'
            },
            tooltip: {
                trigger: 'item'
            },
            legend: {
                orient: 'vertical', //horizontal
                left: 'left'
            },
            series: [
                {
                name: 'series name',
                type: 'pie',
                label: {position: 'inside',fontSize: 8},
                radius: '70%',
                data: [
                    { value: 350, name: '50이하' },
                    { value: 735, name: '60' },
                    { value: 580, name: '70' },
                    { value: 484, name: '80' },
                    { value: 300, name: '90이상' }
                ],
                emphasis: {
                    itemStyle: {
                    shadowBlur: 1,
                    shadowOffsetX: 50,
                    shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
                }
            ]
            };

            var option2 = {
                dataset: [
                    {
                    source: [
                        ['Product', 'Sales', 'Price', 'Year'],
                        ['Cake', 123, 32, 2011],
                        ['Cereal', 231, 14, 2011],
                        ['Tofu', 235, 5, 2011],
                        ['Dumpling', 341, 25, 2011],
                        ['Biscuit', 122, 29, 2011],
                        ['Cake', 143, 30, 2012],
                        ['Cereal', 201, 19, 2012],
                        ['Tofu', 255, 7, 2012],
                        ['Dumpling', 241, 27, 2012],
                        ['Biscuit', 102, 34, 2012],
                        ['Cake', 153, 28, 2013],
                        ['Cereal', 181, 21, 2013],
                        ['Tofu', 395, 4, 2013],
                        ['Dumpling', 281, 31, 2013],
                        ['Biscuit', 92, 39, 2013],
                        ['Cake', 223, 29, 2014],
                        ['Cereal', 211, 17, 2014],
                        ['Tofu', 345, 3, 2014],
                        ['Dumpling', 211, 35, 2014],
                        ['Biscuit', 72, 24, 2014]
                    ]
                    },
                    {
                    transform: {
                        type: 'filter',
                        config: { dimension: 'Year', value: 2011 }
                    }
                    },
                    {
                    transform: {
                        type: 'filter',
                        config: { dimension: 'Year', value: 2012 }
                    }
                    },
                    {
                    transform: {
                        type: 'filter',
                        config: { dimension: 'Year', value: 2013 }
                    }
                    }
                ],
                series: [
                    {
                    type: 'pie',
                    radius: 50,
                    center: ['50%', '25%'],
                    datasetIndex: 1
                    },
                    {
                    type: 'pie',
                    radius: 50,
                    center: ['50%', '50%'],
                    datasetIndex: 2
                    },
                    {
                    type: 'pie',
                    radius: 50,
                    center: ['50%', '75%'],
                    datasetIndex: 3
                    }
                ],
                // Optional. Only for responsive layout:
                media: [
                    {
                    query: { minAspectRatio: 1 },
                    option: {
                        series: [
                        { center: ['30%', '50%'] },
                        { center: ['60%', '50%'] },
                        { center: ['90%', '50%'] }
                        ]
                    }
                    },
                    {
                    option: {
                        series: [
                        { center: ['80%', '80%'] },
                        { center: ['80%', '80%'] },
                        { center: ['80%', '80%'] }
                        ]
                    }
                    }
                ]
                };
        
                var option3 = {
                legend: {},
                tooltip: {
                trigger: 'axis',
                showContent: false
                },
                dataset: {
                source: [
                    ['product', '2012', '2013', '2014', '2015', '2016', '2017'],
                    ['Milk Tea', 56.5, 82.1, 88.7, 70.1, 53.4, 85.1],
                    ['Matcha Latte', 51.1, 51.4, 55.1, 53.3, 73.8, 68.7],
                    ['Cheese Cocoa', 40.1, 62.2, 69.5, 36.4, 45.2, 32.5],
                    ['Walnut Brownie', 25.2, 37.1, 41.2, 18, 33.9, 49.1]
                ]
                },
                xAxis: { type: 'category' },
                yAxis: { gridIndex: 0 },
                grid: { top: '55%' },
                series: [
                {
                    type: 'line',
                    smooth: true,
                    seriesLayoutBy: 'row',
                    emphasis: { focus: 'series' }
                },
                {
                    type: 'line',
                    smooth: true,
                    seriesLayoutBy: 'row',
                    emphasis: { focus: 'series' }
                },
                {
                    type: 'line',
                    smooth: true,
                    seriesLayoutBy: 'row',
                    emphasis: { focus: 'series' }
                },
                {
                    type: 'line',
                    smooth: true,
                    seriesLayoutBy: 'row',
                    emphasis: { focus: 'series' }
                },
                {
                    type: 'pie',
                    id: 'pie',
                    radius: '30%',
                    center: ['50%', '25%'],
                    emphasis: {
                    focus: 'self'
                    },
                    label: {
                    formatter: '{b}: {@2012} ({d}%)'
                    },
                    encode: {
                    itemName: 'product',
                    value: '2012',
                    tooltip: '2012'
                    }
                }
                ]
            };
            myChart.on('updateAxisPointer', function (event) {
                const xAxisInfo = event.axesInfo[0];
                if (xAxisInfo) {
                const dimension = xAxisInfo.value + 1;
                myChart.setOption({
                    series: {
                    id: 'pie',
                    label: {
                        formatter: '{b}: {@[' + dimension + ']} ({d}%)'
                    },
                    encode: {
                        value: dimension,
                        tooltip: dimension
                    }
                    }
                });
                }
            });

        // 위에서 설정한 속성을 차트에 반영합니다.
        myChart.setOption(option1);
        myChart1.setOption(option2);
        myChart2.setOption(option3);
    </script>
    </body>
</html>